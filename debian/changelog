isdnutils (1:3.0-20) frozen unstable; urgency=medium

  * Release manager: this fixes an important bug for those that use an AVM B1
    card (not many people); basically, previous versions don't work at all.
    Apparently more people are starting to test potato now...
  * capi20 problems fixed. closes:#62233
  * isdnlog, when starting scripts, didn't expand a number of variables
    correctly (they always had value '7'). closes:#62318
  * Fixed thruput logging in isdnlog, thanks to Christoph Martin for finding
    the problem and supplying a patch. closes:#54839
  * Added documentation about using MPPP (channel bundling for PPP).
  * Fixed lintian errors "no-section-field", "no-priority-field".

 -- Paul Slootman <paul@debian.org>  Fri, 14 Apr 2000 09:15:23 +0200

isdnutils (1:3.0-19) frozen unstable; urgency=low

  * Release manager: please install this version, even though no RC bugs have
    been filed (although IMHO 62127 qualifies as RC).
  * Stopping isdnutils always gave an error due to a logic error when fixing
    #59533. closes:#62127
  * Installing isdnutils freshly (i.e. without any old version being present)
    didn't offer to run isdnconfig, leaving the newbie user clueless about how
    to get isdnutils to work. Not asking anything in the postinst is good from
    an installation point of view, so now the /etc/init.d/isdnutils script
    gives a hint how to configure it if that's not done yet.
  * Documentation cleaned up: updates for 2.2 kernels; some points clarified
    in the HOWTO; README.HiSax from kernel source included.
  * iprofd now builds with latest kernel code.

 -- Paul Slootman <paul@debian.org>  Tue, 11 Apr 2000 14:29:20 +0200

isdnutils (1:3.0-18) frozen unstable; urgency=low

  * Missed one MAKEDEV in init.d.functions which needed to be fixed for
    bug #55670.
  * Vbox usage of `mail' changed to direct invocation of /usr/sbin/sendmail.
    closes:#60625
  * Stop ISDN interfaces even if there is no config file for those (anymore).
    closes:#59533
  * Sanity check in preinst for high enough version of libc6. Shouldn't be
    necessary, but as some stuff is done in the preinst, the dpkg check doesn't
    engage soon enough for some silly reason.
    closes:#53410
  * Possible core dump in imontty fixed, also documentation enhanced for this.
    closes:#60298

 -- Paul Slootman <paul@debian.org>  Wed, 22 Mar 2000 17:37:28 +0100

isdnutils (1:3.0-17) frozen unstable; urgency=low

  * Don't install the empty directory /usr/share/sbin. closes:#55454
  * Suggest blinkd as per <debacle@knorke.in-berlin.de> W. Borgert's
    suggestion. Oops, he didn't make it a bug report.
  * Another isdnctrl update for kernel compatibility, closes:#51232
  * isdnctrl manpage updated (clarified).
  * isdnctrl `status' command is now clearer if the kernel doesn't
    support it. closes:#51052
  * ctrlconf now also works for different kernels (side-effect of fixing #51232)
  * fixed vboxplay (typo and alsutils support). closes:#58518
  * added netmask 255.255.255.255 to example device and ipppd config files.
    closes:#50011
  * change MAKEDEV invocation as per makedev maintainer's directions.
    closes:#55670
  * added ".vmsg" extension to voice message files in the example script.
    This is in part response to #48977 (which can't be closed yet as there's
    another part which isn't fixed at this time).

 -- Paul Slootman <paul@debian.org>  Thu, 24 Feb 2000 16:35:37 +0100

isdnutils (1:3.0-16) unstable; urgency=low

  * Made isdnctrl compatible between 2.0, 2.2 and 2.3/2.4 kernels.
  * Another small Y2K thing in the isdnlog suite.
  * If /etc/isdn/isdn.conf still refers to the old location for areacode.dat
    and that file doesn't exist anymore, fix isdn.conf.
  * Fixed the example isdn.conf (oops).
  * Applied patch from Gerrit Pape <pape@innominate.de> for isdnrep with HTML
    output if called without -t arg.

 -- Paul Slootman <paul@debian.org>  Fri,  7 Jan 2000 13:15:45 +0100

isdnutils (1:3.0-15) unstable; urgency=low

  * Fixed a silly Y2K bug in isdnlog that prevents setting the time from
    the ISDN line. Only affected EuroISDN, not 1TR6, as the fix was already
    there but in an "if-then-else" branch instead of outside. Grr.
    closes:#53830

 -- Paul Slootman <paul@debian.org>  Sun,  2 Jan 2000 19:43:06 +0100

isdnutils (1:3.0-14) unstable; urgency=low

  * fix a couple of problems when going to FHS (/usr/doc, /usr/man,
    /usr/lib/isdn) => (/usr/share/doc, /usr/share/man, /usr/share/isdn)
    Should now conform to standards version 3.0.1.
  * Add 'netmask 0' to 'route * default' commands, that is needed on 2.2.x
    kernels, and doesn't do any harm on 2.0.x kernels. closes:#35363
  * Don't require /etc/ppp/ioptions to exist i.e. comply to the documentation.
    closes:#42613
  * "nohostroute" is now (again!) a synonym for "-hostroute" as an ipppd option.
    closes:#42644
  * Include /var/lib/isdn/ as a directory in the package, so that the calls can
    be logged there by isdnlog. closes:#42947
  * Ensured that the example device configuration script included the ${device}
    parameter to all route commands. Note that existing scripts may need to be
    fixed manually! closes:#43261
  * Renamed /etc/ppp/ip-up.d/isdnutils to /etc/ppp/ip-up.d/00-isdnutils so that
    it is run as (almost?) the first script. /etc/ppp/ip-down.d/isdnutils
    similarly renamed to /etc/ppp/ip-down.d/99-isdnutils for symmetry, although
    that is not as important as the 'up' script. preinst asks what to do about
    this (renaming conffiles sucks).  closes:#43381
  * Fixed isdnconfig to leave ip-up.d/isdnutils alone.

 -- Paul Slootman <paul@debian.org>  Mon,  2 Nov 1999 18:23:42 +0100

isdnutils (1:3.0-13) stable; urgency=high

  * don't install xmonisdn as setuid root. It calls shell scripts in a
    non-secure way. It's better to have the user be in group dialout.
  * now compiles with glibc2. I left this too long in the pipeline, sorry.
    This also closes:#36975
  * isdnlog now should handle the german "cityweekend" option correctly.
    closes:#39002
  * the init.d script calls MAKEDEV to create the interface devices if
    necessary (the default is to only create the first 8 devices).
    closes:#39149
  * xisdnload now handles more than one simultaneous connection correctly.
  * isdnctrl 'status' command added.
  * ipppd should now work with 2.3.x kernels (SIOCGIFCONF ioctl failed).
  * ipppd now has support for negotiating ms-dns and ms-wins values.
  * let ipppd ignore errors when adding routes if the error is that the route
    already exists (particular to kernel 2.2.x apparently).
  * Due to the great perl reshuffle, the location of the uudecode script
    (in /usr/doc/perl*) isn't fixed anymore, so I've implemented some magic
    (/usr/doc/perl? /usr/doc/perl-5.005-doc?)
  * Changed configure.in here and there to handle new 2.2.x isdn.h that
    also references isdn_compat.h
  * Last version in this form. After this I'm going to split isdnutils up,
    and probably change around the config script for the devices to take
    advantage of isdnctrl's capability of reading a config from a file.

 -- Paul Slootman <paul@debian.org>  Thu, 29 Jul 1999 12:57:25 +0200

isdnutils (1:3.0-12) unstable; urgency=low

  * Don't attempt to start any ISDN services (in init.d) if there is no ISDN
    card configured.
  * Remove radius support from ipppd again as that plays havoc with the routing
    and interface configuration if dynamic IP addresses are used. Radius support
    will be made available in a separate package. If it looks like radius is
    being used, the current ipppd will optionally be renamed to ipppd.radius .
  * Changed the example config scripts to account for the changed IP route
    behaviour in 2.2.x kernels. These changes are backwards compatible with
    2.0.x kernels.
  * This isdnutils is certified for use with 2.2.x kernels (even with the old
    ISDN code in the earlier 2.2.x kernels up to and including 2.2.5), with
    the exception of iprofd (for storing the ttyI AT default parameters, which
    most people don't use).

 -- Paul Slootman <paul@debian.org>  Thu,  8 Apr 1999 14:59:29 +0200

isdnutils (1:3.0-11) unstable; urgency=low

  * "fixing" the init.d.functions code broke /etc/init.d/isdnutils if called
    from another dir than /etc/isdn (which is normal...).      closes:#34464
  * isdn.conf.new in root directory removed.
  * If an empty /var/log/vbox directory existed, the postinst would fail.

 -- Paul Slootman <paul@debian.org>  Sun, 14 Mar 1999 16:13:28 +0100

isdnutils (1:3.0-10) unstable; urgency=low

  * iprofd will only work on 2.0.x (or 2.2.x if it is compiled there). This can
    not be made flexible like isdnlog was, unfortunately. OTOH, who uses it...
  * /etc/ppp/ip-down.d/isdnutils script contained a nasty shell syntax error.
    Wonder why (almost :-) no one noticed... closes:#33807
  * Extra comments in ipfwadm code in device.DEVICE about extra interfaces.
  * isdnlog example config now contains "console=/dev/null" to prevent verbose
    logging on the system console.
  * added isdn.conf and isdnformat manpages.
  * added glibc2.1 and (some) powerpc patches (see bug #32482).
  * radius support now included in ipppd. closes:#31830
  * moved /var/log/isdn.log to /var/lib/isdn/calls , which is standard upstream
    and makes more sense (it's collected data, not really a log file). postinst
    moves this if necessary.
  * init.d.functions code now handles more than 10 devices, thanks to
    Paul Stevens <paul@nfg.nl>. closes:#33850

 -- Paul Slootman <paul@debian.org>  Wed, 10 Mar 1999 14:42:40 +0100

isdnutils (1:3.0-9) frozen unstable; urgency=low

  * isdnlog now will run on 2.0.36 _and_ 2.1.xxx / 2.2.xxx (same fix as for
    isdnctrl in 3.0-8; I missed the isdnlog case).  closes:#31647
  * reversed order of "ifconfig up" and "ifconfig ... pointopoint ..." in
    example device.xxx config file.  closes:#31507
  * added option to example device.xxx config file to NOT add a leading zero.
    This is for (amongst others) Norway, where there are no area codes.
  * possible fix for #28482 (isdnlog doesn't log first number in dualmode)
  * fix permissions of existing /etc/ppp/ip-{up,down}.d/isdnutils if necessary.
  * thinko in prerm when invoking 'install-docs -r' fixed.
  * isdnlog started writing to stdout again (got broken in 3.0-7).
  * "nohostroute" is now a synonym for "-hostroute" as an ipppd option.

 -- Paul Slootman <paul@debian.org>  Tue, 12 Jan 1999 17:46:12 +0100

isdnutils (1:3.0-8) frozen unstable; urgency=high

  * install into frozen as well, because 2.0.36 (also in frozen) needs the
    new isdnutils.
    closes:#31317
  * patch from Oliver Schoett <schoett@muc.de> to fix isdnlog cityweekend
    handling on holidays
    closes:#31354
  * use /var/log/isdn/ for vbox logfiles again, instead of /var/log/vbox/.
    postinst moves anything it finds in /var/log/vbox to /var/log/isdn.
    closes:#31363
  * isdnctrl now will run on 2.0.36 _and_ 2.1.xxx / 2.2.xxx
  * added some extra docs from the source to /usr/doc/isdnutils/
  * make /etc/isdn/vboxd.conf root/0600 as it contains passwords
    closes:#31498
  * fixed device.DEVICE example in the case of ippp0 (the expr failed)
    closes:#31505
  * you can now use local copies of vboxplay and vboxmail, by placing them in
    /etc/isdn (the /usr/bin versions exec the /etc/isdn versions if those exist)
    closes:#30586

 -- Paul Slootman <paul@debian.org>  Wed,  6 Jan 1999 13:30:54 +0100

isdnutils (1:3.0-7) unstable; urgency=low

  * new upstream source (which is basically the previous one with the debian
    changes folded back in)
  * added some extra text to /usr/doc/isdnutils/CONFIG.
  * /etc/isdn/device.* example files now handle ippp devices with double digits
    in their names.
  * new format menu file
  * added support for doc-base (now recommends doc-base)
  * changed etc/isdn/init.d.functions a bit
  * added manpages for isdnconf and imontty
  * now lintian-clean (as far as lintian does it right...)
  * made the cardid (as assigned by the loading of hisax) variable (it used to
    have to be lineX). closes:#31313

 -- Paul Slootman <paul@debian.org>  Thu, 31 Dec 1998 11:23:23 +0100

isdnutils (1:3.0-6) unstable; urgency=low

  * /etc/ppp/ioptions is not required any longer. closes:#30594
  * added a comment to isdnlog.DEVICE example.
  * isdnconfig no longer assumes user's group == user's name; instead, the
    group is dug out of /etc/passwd. closes:#30585
  * use /usr/bin/X11/auplay instead of /usr/local/bin/auplay... Ouch. Thanks to
    Andreas Wohlfeld <agw@supersonic.ruhr.de> for spotting this.
  * Also check to see if NAS is running; only then use auplay, else try
    alsautils' aplay, else default to /usr/bin/play.
  * added comment to isdn.conf example about cityweekend.
  * fixed isdnctrl manpage not to include parts that aren't configured.
    closes:#30728

 -- Paul Slootman <paul@debian.org>  Thu, 17 Dec 1998 15:33:55 +0100

isdnutils (1:3.0-5) unstable; urgency=low

  * set PACKAGES='' at beginning of preinst script. fixes:#30243
  * taken care of lzs messages in ipppd.
  * fixed the xmonisdn manpage part of #29106
  * example device config script now defaults to setting only ippp0 as the
    default route.
  * updated some other stuff to the upstream CVS version.

 -- Paul Slootman <paul@debian.org>  Wed,  2 Dec 1998 08:19:20 +0100

isdnutils (1:3.0-4) unstable; urgency=low

  * prevented isdnlog output to stdout.
  * fixed up manpages for vbox and isdnlog.
  * hopefully #28482 is now fixed (isdnlog doesnt' log first number in dualmode)
  * fixed usage of more than one outgoing phone number. fixes:#30163
  * some extra explanatory comments in example device.DEVICE file.
  * now recommends instead of suggests ppp. fixes:#29206
  * #29443 was already fixed in -3 (upon removing, suidunregister a couple of
    things that are suidregistered when installing).

 -- Paul Slootman <paul@debian.org>  Tue,  1 Dec 1998 14:39:23 +0100

isdnutils (1:3.0-3) unstable; urgency=low

  * first public release of new isdnutils package, based on new upstream
    sources (1 & 2 were only for a couple of beta testers). See the changelog
    file for full details of all changes. This version is necessary for
    kernel 2.0.36 !
  * ipppd now adds the device name into the lock file name (as it used to).
  * old netup / netdown scripts now moved to netup.old / netdown.old and
    message is given about this.
  * depend on "makedev << 2.3.1 | makedev >= 2.3.1-10" as the earlier 2.3.1
    versions of makedev were badly broken.

 -- Paul Slootman <paul@debian.org>  Thu, 26 Nov 1998 11:49:20 +0100

isdnutils (1:3.0-2) unstable; urgency=low

  * postinst inspects the device config files for the `dialmode' setting.
    If not found, it offers to add it.
  * /etc/ppp/ip-{up,down}.d/isdnutils are now conffiles.
  * xmonisdn now _always_ runs /etc/isdn/xmonisdn-netup on mousebutton2 press,
    and _always_ runs /etc/isdn/xmonisdn-netdown on mousebutton3 press.
    Previously it would only run the netup script if there was no route to any
    ISDN interface.
  * xisdnload now runs /etc/isdn/xisdnload-netup on a mouseclick if there is no
    route to an ISDN interface, and /etc/isdn/xisdnload-netdown otherwise. The
    script names are configured in /usr/X11R6/lib/X11/app-defaults/XISDNLoad
    and can be overridden by the user's .Xdefaults file.
  * moved imon and imontty back to /usr/bin.

 -- Paul Slootman <paul@debian.org>  Wed, 25 Nov 1998 14:19:02 +0100

isdnutils (1:3.0-1) unstable; urgency=low

  * Initial Release of the new upstream source.
    This version is for the ISDN code in 2.0.36.
  * This version is only for a couple of betatesters; not released officially.
  * Upstream source fixes the manpage problems reported in #29303
  * (not yet) Split into different binary packages (not everyone needs
    all parts).
  * Removed many of the old changelog messages (who wants a 500-line
    changelog...). I left the changes since hamm in.
  * Added sparc to architectures, as I've a report of someone who's used
    isdn4linux on a Sparc.
  * Unregister the suid programs when removing. fixes:#29443

 -- Paul Slootman <paul@debian.org>  Tue, 17 Nov 1998 11:03:38 +0100

isdnutils (1:2.1.beta1-28) unstable; urgency=low

  * REMOTEMSN in the device.xxxx script may now be a list of numbers.
  * fixed broken references in isdnlog(8) manpage yet again...

 -- Paul Slootman <paul@debian.org>  Mon,  9 Nov 1998 13:31:03 +0100

isdnutils (1:2.1.beta1-27) frozen; urgency=medium

  * Create symlink /dev/isdnctrl -> isdnctrl0.  /dev/isdnctrl used to be
    created by MAKEDEV. Sigh...  Not having this prevents isdnutils from
    working. fixes:#28644,#28527,#28605
  * Added manpage for isdnctrl(4).
  * Updated manpage for hisaxctrl(1).
  * Updated hisaxctrl.
  * Don't include telesctrl and telesctrl.man anymore (that was for the old
    pre-HiSax kernel driver).
    This and the previous 3 points fixes:#28606
  * auth-up and auth-down scripts weren't installed when configuring an ippp
    link. Fixes:#28832

 -- Paul Slootman <paul@debian.org>  Tue,  3 Nov 1998 18:15:39 +0100

isdnutils (1:2.1.beta1-26) unstable; urgency=medium

  * Unsecure use of a /tmp file fixed (/tmp/isdnctrl0 is checked not to be a
    symlink now).
  * cd /dev before calling MAKEDEV to account for MAKEDEV's changed behaviour
    (now created in current directory, where it used to always create in /dev).

 -- Paul Slootman <paul@debian.org>  Mon, 26 Oct 1998 17:52:24 +0100

isdnutils (1:2.1.beta1-25) unstable; urgency=low

  * couple of documentation changes; thanks to olly@lfix.co.uk. fixes:#27369
  * isdnlog can now be restarted more than once via SIGHUP (previously, after
    the first time, SIGHUP was blocked).

 -- Paul Slootman <paul@debian.org>  Mon,  5 Oct 1998 15:53:15 +0200

isdnutils (1:2.1.beta1-24) unstable; urgency=low

  * 
  * the ip-up.d and ip-down.d scripts are now made executable. fixes:#25219
  * added auth-up and auth-down example scripts for ipppd.     fixes:#23985
  * vboxplay now checks for NAS and uses auplay if applicable. fixes:#25088
  * sample inittab line no longer wordwrapped (which happened courtesy of
    the default vim config, arghh...)

 -- Paul Slootman <paul@debian.org>  Tue,  8 Sep 1998 12:27:09 +0200

isdnutils (1:2.1.beta1-23) frozen unstable; urgency=medium

  * fixed buffer overrun in isdnlog which caused it to crash. fixes:#23460
  * use start-stop-daemon in cron.weekly script instead of killall; fixes:#23346
  * fixed isdn_audio manpage  fixes:#22784
  * Also to frozen, as the current hamm version is prone to a number of
    buffer overruns etc.!

 -- Paul Slootman <paul@debian.org>  Tue,  2 Jun 1998 13:51:37 +0200

